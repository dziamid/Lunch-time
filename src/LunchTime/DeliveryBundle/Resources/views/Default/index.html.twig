{% extends 'LTDeliveryBundle::layout.html.twig' %}

{% block app %}
{{ parent() }}
<script type="text/javascript">
    //lets make active menu to be the first one in the list
    //LT.config.activeMenuId = 3;
    LT.config.menus = {{ menus | json_encode() | raw }};
</script>
{% endblock %}

{% block body %}


<h3>Calendar</h3>

<ul class="calendar list" data-bind="foreach: menus">
    <li class="item clickable" data-bind="click: $root.activateMenu, css: {active: $root.isActiveMenu($data)}">
        <span data-bind="text: title"></span>
    </li>
</ul>

<div id="active-menu" data-bind="with: activeMenu">
    <h3>Menu for <span data-bind="text: title"></span></h3>

    <div class="menu">
        <ul class="menu-items list" data-bind="foreach: items">
            <li class="item clickable" data-bind="click: $root.addToOrder">
                <span class="title" data-bind="text: title"></span>
                <span data-bind="text: price"></span>
            </li>
        </ul>
    </div>
</div>



<h3>Your order:</h3>

<div class="order">

    <ul class="order-items list" data-bind="foreach: orderItems">
        <li class="item">
            <span class="title" data-bind="text: title()"></span>
            <span data-bind="text: amount()"></span>
            <span class="clickable" data-bind="click: $root.removeFromOrder">-1</span>
            <span class="clickable" data-bind="click: $data.addOne">+1</span>
        </li>
    </ul>
    <div class="total">
        Total: <span data-bind="text: orderTotal()"></span>
    </div>
</div>


{% endblock %}